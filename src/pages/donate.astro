---
import BaseLayout from '../layouts/BaseLayout.astro';
import DonatePost from '../content/donate.md';

import type { ImageMetadata } from 'astro';
import { Image } from 'astro:assets'
import photoData from '@/scripts/photos.js';

const photo = "russell";
const photos = import.meta.glob<{ default: ImageMetadata }>('/src/assets/photos/*.{jpeg,jpg,png,gif}')
if (!photos[photoData[photo].imgPath]) throw new Error(`"${photo}" does not exist in glob: "assets/photos/*.{jpeg,jpg,png,gif}"`);


const pageTitle = "Donate";
---
<BaseLayout pageTitle={pageTitle}>
  <div class="mx-auto w-fit">
    <Image
      src={photos[photoData[photo].imgPath]()}
      alt={photoData[photo].altText}
      width={640}
      style="center"
      />
  </div>

<DonatePost />

    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
        <input type="hidden" name="cmd" value="_s-xclick">
        <input type="hidden" name="hosted_button_id" value="VCLWWSYFMNPM4">
        <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif"
               name="submit" alt="PayPal - The safer, easier way to pay online!">
        <img alt="" src="" data-recalc-dims="1">
    </form>

    <p>
        Donations are not tax deductible
    </p>
</BaseLayout>