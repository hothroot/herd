---
import BaseLayout from '../layouts/BaseLayout.astro';
import type { ImageMetadata } from 'astro';
import { Image } from 'astro:assets'
import photoData from '@/scripts/photos.js';

import VolunteerCallToAction from '../content/volunteer-cta.md';
import VolunteerPost from '../content/volunteer.md';

const photo = "volunteers";
const photos = import.meta.glob<{ default: ImageMetadata }>('/src/assets/photos/*.{jpeg,jpg,png,gif}')
if (!photos[photoData[photo].imgPath]) throw new Error(`"${photoData[photo].imgPath}" does not exist in glob: "assets/photos/*.{jpeg,jpg,png,gif}"`);

const pageTitle = "Volunteer";
---
<BaseLayout pageTitle={pageTitle}>

  <VolunteerCallToAction />
  
  <div class="mx-auto w-fit">
    <Image
      src={photos[photoData[photo].imgPath]()}
      alt={photoData[photo].altText}
      width={500}
      style="center"
      />
  </div>
  
  <VolunteerPost />

  <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSdzojPmhaWzm53ydmt_7pbIhuoOfqqDhRTWpkzA3Q6juSLhKQ/viewform?usp=header" 
width="100%" height="1200em" >Loading...</iframe>
</BaseLayout>

